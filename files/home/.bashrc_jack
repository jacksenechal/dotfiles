#
# This file contains additions to the default .bashrc provided by the OS. All
# user-specific bash additions should go in this file. Aliases and ENVs can go
# in ~/.bash_aliases_jack.
#

PS1='[\u@\h \W]\$ '

# Set up fzf key bindings and fuzzy completion
[ -f ~/.fzf.bash ] && source ~/.fzf.bash
[ -f ~/.fzf-git.sh ] && source ~/.fzf-git.sh

# Fix open-tab-in-CWD issue in Gnome Console
[ -f /etc/profile.d/vte.sh ] && source /etc/profile.d/vte.sh

# Set up path
export PATH="$PATH:/home/jack/.local/bin"

# Set up go
if command -v go &> /dev/null; then
  export PATH="$PATH:$(go env GOPATH)/bin"
fi

# Set up rbenv
if command -v rbenv &> /dev/null; then
  eval "$(rbenv init - bash)"
fi

# Set up pipx
if command -v register-python-argcomplete &> /dev/null; then
  eval "$(register-python-argcomplete pipx)"
fi

# Set up nvm
export NVM_DIR="$HOME/.nvm"
# Re-enable hashing for nvm; Omarchy disables it and nvm calls hash -r.
set -h
[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"

# Set up keychain
if [ -x "$(command -v keychain)" ] && [ -f ~/.ssh/id_github ]; then
  eval "$(keychain --eval --agents ssh id_github)" > /dev/null
fi

# Aliases
if [ -f ~/.bash_aliases_jack ]; then
    . ~/.bash_aliases_jack
fi
